---
title: Nginx 开启目录浏览功能
date: 2018-01-15 15:40:00
categories:
- Nginx
tags:
- Nginx
---


# 一、环境准备

1）CentOS7 +Nginx-1.10.1+pcre-8.39(支持nginx伪静态). 

# 二、环境安装

1）安装包下载：

```
[root@biezz ~]# cd /usr/local/src/
[root@biezz src]# wget http://nginx.org/download/nginx-1.10.1.tar.gz
[root@biezz src]# wget http://ftp.pcre.org/pub/pcre/pcre-8.39.tar.gz
[root@biezz src]# ll -h
  总用量 2.9M
  -rw-r--r--. 1 root root 888K 6月 1 2016 nginx-1.10.1.tar.gz
  -rw-r--r--. 1 root root 2.0M 7月 21 15:28 pcre-8.39.tar.gz

```
2）YUM安装依赖包

```
yum install -y apr* autoconf automake bison bzip2 bzip2* cloog-ppl compat* cpp curl curl-devel fontconfig fontconfig-devel freetype freetype* freetype-devel gcc gcc-c++ gtk+-devel gd gettext gettext-devel glibc kernel kernel-headers keyutils keyutils-libs-devel krb5-devel libcom_err-devel libpng libpng-devel libjpeg* libsepol-devel libselinux-devel libstdc++-devel libtool* libgomp libxml2 libxml2-devel libXpm* libxml* libtiff libtiff* make mpfr ncurses* ntp openssl openssl-devel patch pcre-devel perl php-common php-gd policycoreutils telnet t1lib t1lib* nasm nasm* wget zlib-devel
```
3）编译安装

```
[root@biezz src]# tar zxvf pcre-8.39.tar.gz
[root@biezz src]# cd pcre-8.39
[root@biezz pcre-8.39]# ./configure --prefix=/usr/local/pcre
[root@biezz pcre-8.39]# make && make install
[root@biezz pcre-8.39]# cd ../
[root@biezz src]# groupadd www
[root@biezz src]# useradd -g www www -s /bin/false
[root@biezz src]# tar zxvf nginx-1.10.1.tar.gz
[root@biezz nginx-1.10.1]# ./configure --prefix=/usr/local/nginx --without-http_memcached_module --user=www --group=www --with-http_stub_status_module  --with-http_gzip_static_module --with-pcre=/usr/local/src/pcre-8.39
[root@biezz nginx-1.10.1]# make && make install
[root@biezz nginx-1.10.1]# /usr/local/nginx/sbin/nginx
[root@biezz nginx-1.10.1]# netstat -tulpn
Active Internet connections (only servers)
Proto Recv-Q Send-Q Local Address Foreign Address State PID/Program name 
tcp 0 0 0.0.0.0:80 0.0.0.0:* LISTEN 50528/nginx: master 
tcp 0 0 0.0.0.0:22 0.0.0.0:* LISTEN 1423/sshd 
tcp 0 0 127.0.0.1:25 0.0.0.0:* LISTEN 2537/master 
tcp6 0 0 :::22 :::* LISTEN 1423/sshd 
tcp6 0 0 ::1:25 :::* LISTEN 2537/master
[root@biezz nginx-1.10.1]# systemctl stop firewalld
```
看到以下，便说明Nginx服务配置已经完成。
